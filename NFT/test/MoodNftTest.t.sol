//SPDX-License-Identifier: MIT

pragma solidity ^0.8.19;

import {Test, console} from "forge-std/Test.sol";
import {MoodNft} from "src/MoodNft.sol";

contract MoodNftTest is Test {
    MoodNft moodNft;
    string public constant HAPPY_SVG_URI =
        "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBUd2FyeiAtLT4KICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjkwIiBmaWxsPSIjZjFjNDBmIiAvPgoKICA8IS0tIE9jenkgYmlhxYJlIC0tPgogIDxjaXJjbGUgY3g9IjY1IiBjeT0iODAiIHI9IjE1IiBmaWxsPSIjZmZmIiAvPgogIDxjaXJjbGUgY3g9IjEzNSIgY3k9IjgwIiByPSIxNSIgZmlsbD0iI2ZmZiIgLz4KCiAgPCEtLSDFuXJlbmljZSB6IG1ydWdhbmllbSAtLT4KICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjgwIiByPSI3IiBmaWxsPSIjMmMzZTUwIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InIiIHZhbHVlcz0iNzswOzciIGR1cj0iNHMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiBiZWdpbj0iMXMiIC8+CiAgPC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iMTM1IiBjeT0iODAiIHI9IjciIGZpbGw9IiMyYzNlNTAiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iciIgdmFsdWVzPSI3OzA7NyIgZHVyPSI0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIxcyIgLz4KICA8L2NpcmNsZT4KCiAgPCEtLSBVxZttaWVjaCB6IGFuaW1hY2rEhSAtLT4KICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMyYzNlNTAiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogICAgICAgIGQ9Ik02MCAxMzAgUTEwMCAxNzAgMTQwIDEzMCI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJkIgogICAgICAgICAgICAgZHVyPSIycyIKICAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIgogICAgICAgICAgICAgdmFsdWVzPSJNNjAgMTMwIFExMDAgMTcwIDE0MCAxMzA7CiAgICAgICAgICAgICAgICAgICAgIE02MCAxMjggUTEwMCAxNzUgMTQwIDEyODsKICAgICAgICAgICAgICAgICAgICAgTTYwIDEzMCBRMTAwIDE3MCAxNDAgMTMwIi8+CiAgPC9wYXRoPgo8L3N2Zz4K";

    string public constant SAD_SVG_URI =
        "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPCEtLSBUd2FyeiAtLT4KICA8Y2lyY2xlIGN4PSIxMDAiIGN5PSIxMDAiIHI9IjkwIiBmaWxsPSIjMmMzZTUwIiAvPgoKICA8IS0tIE9jenkgYmlhxYJlIC0tPgogIDxjaXJjbGUgY3g9IjY1IiBjeT0iODAiIHI9IjE1IiBmaWxsPSIjZWNmMGYxIiAvPgogIDxjaXJjbGUgY3g9IjEzNSIgY3k9IjgwIiByPSIxNSIgZmlsbD0iI2VjZjBmMSIgLz4KCiAgPCEtLSDFuXJlbmljZSAtLT4KICA8Y2lyY2xlIGN4PSI2NSIgY3k9IjgwIiByPSI3IiBmaWxsPSIjMzQ0OTVlIiAvPgogIDxjaXJjbGUgY3g9IjEzNSIgY3k9IjgwIiByPSI3IiBmaWxsPSIjMzQ0OTVlIiAvPgoKICA8IS0tIMWBZXprYSBzcG9kIGxld2VnbyBva2EgLS0+CiAgPGNpcmNsZSBjeD0iNjUiIGN5PSI5NSIgcj0iMyIgZmlsbD0iIzM0OThkYiI+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJjeSIgdmFsdWVzPSI5NTsxMjAiIGR1cj0iMS41cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiB2YWx1ZXM9IjE7MCIgZHVyPSIxLjVzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgLz4KICA8L2NpcmNsZT4KCiAgPCEtLSBTbXV0bnkgdcWbbWllY2ggeiBhbmltYWNqxIUgLS0+CiAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZWNmMGYxIiBzdHJva2Utd2lkdGg9IjYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIKICAgICAgICBkPSJNNjAgMTQwIFExMDAgMTEwIDE0MCAxNDAiPgogICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT0iZCIKICAgICAgICAgICAgIGR1cj0iMnMiCiAgICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIKICAgICAgICAgICAgIHZhbHVlcz0iTTYwIDE0MCBRMTAwIDExMCAxNDAgMTQwOwogICAgICAgICAgICAgICAgICAgICBNNjAgMTQyIFExMDAgMTA1IDE0MCAxNDI7CiAgICAgICAgICAgICAgICAgICAgIE02MCAxNDAgUTEwMCAxMTAgMTQwIDE0MCIvPgogIDwvcGF0aD4KPC9zdmc+Cg==";

    address USER = makeAddr("USER");

    function setUp() external {
        moodNft = new MoodNft(SAD_SVG_URI, HAPPY_SVG_URI);
    }

    function testViewTokenUri() public {
        vm.prank(USER);
        moodNft.mintNft();
        console.log(moodNft.tokenURI(0));
    }
}
